<!DOCTYPE html>
<!--
    select box 의 option을 동적으로 생성, 삭제

-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <form name="mForm">
        <div>
            <button type="button" onclick="doAdd()">추가</button>
            <button type="button" onclick="doDel()">삭제</button>
            <button type="button" onclick="changeDisabled(true)">비활성화</button>
            <button type="button" onclick="changeDisabled(false)">활성화</button>

        </div>
        <div>
            <select name="sel">
                <option value="">선택하세요</option>
            </select>
        </div>
    </form>
    <script>
        function changeDisabled(flag) {
            var selbox = document.mForm.sel;

            if (flag) {
                selbox.selectedIndex = 0;
            }

            selbox.disabled = flag;
        }
        function doAdd() {
            var selbox = document.mForm.sel;
            // 3가지 방법으로 option 항목을 추가...

            // 3. innerHTML 활용
            selbox.innerHTML += "<option value='100'>테스트</option>"; 

            // 2. 자바스크립트 내장 객체 활용
            // selbox.options[selbox.options.length] = new Option("텍스트", "100");

            /*
            // 1. DOM API 활용
            // <option></option>
            var opt = document.createElement("option");
            // <option value=0></option>
            opt.value = 0;
            var txt = document.createTextNode("테스트");
            // <option value=0>테스트</option>
            opt.appendChild(txt);
            selbox.appendChild(opt);
            */
        }
        function doDel() {
            var selbox = document.mForm.sel;

            // 맨 마지막 삭제하기
            /*
            if (selbox.options.length == 1) {
                alert("더이상 삭제가 불가능합니다.");
                return;
            }
            selbox.options[selbox.options.length - 1] = null;
            */

            // 한개만 남겨두고 전체 삭제
            /*
            for (let i = selbox.options.length - 1; i > 0; i--) {
                selbox.options[i] = null;
            }
            */

            selbox.options.length = 1;
        }
    </script>
</body>
</html>